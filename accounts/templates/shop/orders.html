{% extends 'shop/base.html' %}

{% block title %}Meus Pedidos{% endblock %}

{% block main %}
<h2 class="hero-section">Perfil e Pedidos</h2>

<!-- Dados do usuário -->
<div class="form-container">
    <p><strong>Nome:</strong> {{ user.first_name }} {{ user.last_name }}</p>
    <p><strong>Nome de usuário:</strong> {{ user.username }}</p>
    <p><strong>E-mail:</strong> {{ user.email }}</p>
</div>

<hr style="margin:30px 0; border-color: orange;">

<!-- Pedidos do usuário -->
<h3 class="hero-section">Meus Pedidos</h3>

{% if orders %}
<div class="product-container">
    {% for order in orders %}
    <div class="product-card">
        <h3>{{ order.product.name }} - R$ {{ order.product.price }}</h3>
        <p>{{ order.product.description|truncatechars:80 }}</p>
        <p><strong>Quantidade:</strong> {{ order.quantity }}</p>
        <p><strong>Valor Total:</strong> R$ {{ order.total_price }}</p>
        <p><strong>Status:</strong> {{ order.status }}</p>
        <p><strong>Data do Pedido:</strong> {{ order.created_at|date:"d/m/Y H:i" }}</p>
    </div>
    {% endfor %}
</div>
{% else %}
<p style="text-align:center; margin-top:20px;">Você ainda não fez nenhum pedido.</p>
{% endif %}
{% endblock %}